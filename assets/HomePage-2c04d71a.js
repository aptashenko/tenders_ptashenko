import{c as m,o as l,a as i,b as n,n as y,d as f,e as p,_ as L,u as v,F as $,r as k,f as V,w as S,g as B,t as _,h as T,R as C,i as D,j as F}from"./index-945a6258.js";import{u as g}from"./main-store-60c7105d.js";import{u as N}from"./useAmountFormat-7c9943da.js";const R={class:"input-wrapper"},q=["type","placeholder","id","name","value"],w={__name:"BaseInput",props:{variant:{type:String,default:"default"}},setup(t){const a=t,e=m(()=>({default:"base-input"})[a.variant]);return(s,d)=>(l(),i("div",R,[n("input",{type:s.$attrs.type||"text",placeholder:s.$attrs.placeholder,id:s.$attrs.id,name:s.$attrs.name,value:s.$attrs.value,class:y([e.value,"input"])},null,10,q)]))}},A={__name:"MainSearch",props:{modelValue:{type:String}},emits:["update:modelValue","find-tenders"],setup(t,{emit:a}){const e=a,s=()=>{e("find-tenders")};return(d,c)=>(l(),f(w,{value:t.modelValue,onInput:c[0]||(c[0]=u=>e("update:modelValue",u.target.value)),onChange:s},null,8,["value"]))}};const O={class:"general-search-form"},E={__name:"GeneralSearchForm",setup(t){const a=g(),e={general:{type:"text",value:"",placeholder:"Назва або код товару, номер закупівлі, назва або ЄДРПОУ компанії",required:!1}},s=()=>{a.getSearchResults({text:e.general.value})};return(d,c)=>(l(),i("div",O,[p(A,{modelValue:e.general.value,"onUpdate:modelValue":c[0]||(c[0]=u=>e.general.value=u),placeholder:e.general.placeholder,onFindTenders:s},null,8,["modelValue","placeholder"])]))}};const J={},j={class:"lds-ring"},G=n("div",null,null,-1),H=n("div",null,null,-1),M=n("div",null,null,-1),P=n("div",null,null,-1),z=[G,H,M,P];function U(t,a){return l(),i("div",j,z)}const K=L(J,[["render",U]]);const Q={class:"tenders-list"},W={key:1,class:"tenders-list__loader"},X={__name:"TendersList",props:{tenders:{type:Array,default:()=>[]}},setup(t){const a=g();return(e,s)=>(l(),i("ul",Q,[v(a).isLoading?(l(),i("div",W,[p(K)])):(l(),i($,{key:0},[t.tenders?k(e.$slots,"default",{key:0}):V("",!0)],64))]))}},Y=[{name:"Період уточнень",id:"active.enquiries"},{name:"Прекваліфікація",id:"active.pre-qualification"},{name:"Подання пропозицій",id:"active.tendering"},{name:"Прекваліфікація (період оскарження)",id:"active.pre-qualification.stand-still"},{name:"Аукціон",id:"active.auction"},{name:"Кваліфікація переможця",id:"active.qualification"},{name:"Кваліфікація переможця (період оскарження)",id:"active.qualification.stand-still"},{name:"Пропозиції розглянуті",id:"active.awarded"},{name:"Торги не відбулися",id:"unsuccessful"},{name:"Торги відмінено",id:"cancelled"},{name:"Завершена",id:"cancelled"},{name:"Підготовка угоди",id:"active"},{name:"Підготовка до 2-го етапу",id:"active.stage2.pending"},{name:"Створення 2-го етапу",id:"active.stage2.waiting"}],Z=t=>({statusLabel:m(()=>{var e;return(e=Y.find(s=>s.id===t))==null?void 0:e.name})});const ee={__name:"BaseButton",props:{variant:{type:String,default:"default"},label:{type:String,default:""}},setup(t){const a=t,e=m(()=>({default:"button",link:"link"})[a.variant]);return(s,d)=>(l(),f(T(s.$attrs.to?v(C):"button"),{to:s.$attrs.to,class:y(e.value)},{default:S(()=>[B(_(t.label),1)]),_:1},8,["to","class"]))}};const te={class:"tender-item"},ae={class:"tender-item__left"},se={class:"tender-item__status"},ne={class:"tender-item__buyer"},le={class:"tender-item__address"},re={class:"tender-item__id"},ie={class:"tender-item__right"},oe=n("p",{class:"tender-item__amount-title"}," Очікувана вартість ",-1),de={class:"tender-item__amount"},ce={__name:"TendersItem",props:{data:{type:Object,default:()=>{}}},setup(t){const{formatAmount:a}=N(),e=t,{statusLabel:s}=Z(e.data.status),d=m(()=>{const{locality:o,region:r}=e.data.procuringEntity.address;return o&&r?`${r}, ${o}`:"Не вказано"}),c=m(()=>e.data.value?a(e.data.value.amount,e.data.value.currency):"Не визначено"),u=D(JSON.parse(localStorage.getItem("favorites"))||[]),I=m(()=>u.value.find(o=>o.tenderID===e.data.tenderID)),b=o=>{const r=JSON.parse(localStorage.getItem("favorites"))||[],h=r.findIndex(x=>x.tenderID===o.tenderID);h>=0?r.splice(h,1):r.push(o),u.value=r,localStorage.setItem("favorites",JSON.stringify(u.value))};return(o,r)=>(l(),i("li",te,[n("div",ae,[p(ee,{variant:"link",label:t.data.title,class:"tender-item__title",to:{name:"tender-details",params:{id:t.data.tenderID}}},null,8,["label","to"]),n("p",se,_(v(s)),1),n("p",ne,_(t.data.procuringEntity.name),1),n("p",le,_(d.value),1),n("p",re,"ID: "+_(t.data.tenderID),1)]),n("div",ie,[oe,n("p",de,_(c.value),1),n("button",{class:"tender-item__add-btn",onClick:r[0]||(r[0]=h=>b(t.data))},_(I.value?"-":"+"),1)])]))}},ue={__name:"ResultsList",setup(t){const a=g();return a.getSearchResults(),(e,s)=>(l(),f(X,{tenders:v(a).searchResults},{default:S(()=>[(l(!0),i($,null,F(v(a).searchResults.data,d=>(l(),f(ce,{data:d},null,8,["data"]))),256))]),_:1},8,["tenders"]))}};const _e={class:"home-page"},me={class:"home-page__list"},he={__name:"HomePage",setup(t){return(a,e)=>(l(),i("div",_e,[p(E),n("div",me,[p(ue)])]))}};export{he as default};
